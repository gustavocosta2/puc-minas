# √Årvores de Decis√£o (DecisionTree) üå≤

Os algoritmos de √°rvore s√£o matematicamente mais refinados que os algoritmos de regra, n√£o √© muito, mas j√° d√° uma diferen√ßa n√≠tida de performance computacional. Os algoritmos de √°rvore s√£o muito
**interpret√°veis** e por isso s√£o amplamente utilizados pelos profissionais de dados.

- A √°rvore √© uma **disjun√ß√£o de conjun√ß√µes**, isso significa que ela possui diferentes regras, e em cada regra, h√° mais de uma conjun√ß√£o. As folhas representam uma conjun√ß√£o, entretanto, uma
folha difere-se das outras, sendo disjuntas.

<img src="https://www.hashtagtreinamentos.com/wp-content/uploads/2022/11/Arvore-de-Decisao-1.png" width=500px height=500px>

*fonte da imagem: www.hashtagtreinamentos.com*

## Algoritmos de √Årvore: Como calcular o ganho?

Nessa subse√ß√£o, ser√° explicado como avaliar **matematicamente** o ganho de cada atributo.

Algoritmos:

- **ID3 ->** Ganho (atributo) = Entropia(classe) - Entropia(atributo)
-  **C45 ->** Utiliza tamb√©m do ganho do atributo mas aplica uma etapa a mais, a penaliza√ß√£o dos atributos com muitas op√ß√µes, chamada de raz√£o de ganho.
-  **CART ->** Utiliza a m√©trica Gini que mede o grau de impureza dos dados.

### Funcionamento - Algoritmo ID3 üá¶üá∫

- **EQUA√á√ÉO:** Ganho(atributo) = Entropia(classe) - Entropia(atributo)

Primeiramente, a entropia mede o grau de desordem de um sistema, em outras palavras, a entropia mede o qu√£o esses dados est√£o misturados entre si. Quanto maior a entropia, maior a dificuldade
do modelo em **separar as inst√¢ncias de diferentes classes**, por consequ√™ncia, seu ganho ser√° menor. Portanto, o Ganho de um atributo √© **inversamente proporcional** √† Entropia de um atributo.
Quanto menor a entropia desse atributo, melhor a divis√£o dos dados em suas devidas classes.

Para ficar melhor, vamos fazer um exemplo pr√°tico com alguns dados. Assim, o conhecimento fica mais absorv√≠vel.

**Exemplo Pr√°tico**

Vamos considerar o contexto de futebol para o problema abordado, onde o r√≥tulo significa se o time de futebol ganhar√° a partida.

<img src="https://i.ibb.co/pnB04Jt/Captura-de-tela-2024-10-22-234447.png">

**1¬∞ Passo: Calcular a Entropia da Classe**

<img src="https://i.ibb.co/yntJPhs/arvore-id3-passo1.png">

O valor da Entropia da Classe deu *0.92*. Vamos guardar esse valor para usar posteriormente no c√°lculo de Ganho de atributo por atributo.

**2¬∞ Passo: Calcular a Entropia do atributo Clima**

<img src="https://i.ibb.co/HTqZq8n/arvore-id3-atributo-clima.png">

**3¬∞ Passo: Calcular a Entropia do atributo Local**

<img src="https://i.ibb.co/gvVcVnd/arvore-id3-atributo-local.png">

**4¬∞ Passo: Calcular a Entropia do atributo For√ßa do Advers√°rio**

<img src="https://i.ibb.co/7t70Qh3/arvore-id3-atributo-forca-adversario.png">

**5¬∞ Passo: Calcular o Ganho de cada Atributo**

<img src="https://i.ibb.co/W2Z8M8f/arvore-id3-ganho.png">


Repare que esses 5 passos s√£o s√≥ a **primeira itera√ß√£o**, o maior Ganho foi do atributo 'Clima', e portanto ele ser√° a ra√≠z da √°rvore. Ap√≥s isso, ser√° feita a segunda itera√ß√£o para formular os n√≥s do pr√≥ximo n√≠vel, a Entropia da Classe ser√° recalculada e o Ganho dos Atributos ser√° recalculado tamb√©m.

Ademais, o Algoritmo ID3 n√£o lida bem com:

- Valores num√©ricos
- Dados nulos
-

### Algoritmo C45 
O algoritmo C45 √© do mesmo criador do algoritmo ID3, h√° apenas algumas diferen√ßas em rela√ß√£o √† melhorias notadas pelo pr√≥prio criador. S√£o elas:

- O Algoritmo C45 penaliza o ganho dos atributos, dessa forma, deixa-os mais realistas. Isso interfere principalmente para atributos com muitas op√ß√µes, pense o CPF como um exemplo.
- Trabalha com valores num√©ricos, mas aten√ß√£o, ele n√£o realiza **regress√£o**.
- Trabalha com dados nulos, sempre utilizando de m√©dia e moda para imputa√ß√£o.

### Algoritmo CART

- Suporta classifica√ß√£o e regress√£o.
- Gera √°rvores bin√°rias, cada n√≥ √© sempre dividido em dois ramos.
- Utiliza o √≠ndice de Gini que mede a impureza de um n√≥ ou o erro quadr√°tico (MSE) para regress√£o.
- Trabalha com atributos cont√≠nuos e realiza pontos de corte.
